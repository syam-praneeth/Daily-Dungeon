(self.webpackChunkdaily_dungeon_frontend=self.webpackChunkdaily_dungeon_frontend||[]).push([[198],{198:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(555),s=i(43),a=i(292),r=i(446),l=i.n(r),c=i(579);const o=()=>{const{tasks:e,addTask:t,updateTask:i,deleteTask:r,taskError:o}=(0,s.useContext)(a.j),[d,u]=(0,s.useState)(""),[h,p]=(0,s.useState)(""),[m,j]=(0,s.useState)({title:"",description:"",priority:"medium",dueDate:"",reminderTime:""}),[f,x]=(0,s.useState)(!1),[v,g]=(0,s.useState)(""),y=(0,s.useMemo)(()=>l()(e=>u(e),300),[]),b=e.filter(e=>{const t=d.toLowerCase(),i=!t||e.title.toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t),n=!h||e.priority===h;return i&&n}),N=b.filter(e=>"completed"!==e.status),k=b.filter(e=>"completed"===e.status);return(0,c.jsxs)("div",{className:"container",children:[(0,c.jsx)("h2",{children:"Daily Tasks"}),(0,c.jsx)("div",{className:"soft-section accent-blue",children:(0,c.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),x(!0),g("");try{await t((0,n.A)({},m)),j({title:"",description:"",priority:"medium",dueDate:"",reminderTime:""})}catch(i){g("Failed to add task")}finally{x(!1)}},className:"grid",children:[(0,c.jsx)("input",{placeholder:"Title",value:m.title,onChange:e=>j((0,n.A)((0,n.A)({},m),{},{title:e.target.value})),required:!0}),(0,c.jsx)("textarea",{placeholder:"Description",value:m.description,onChange:e=>j((0,n.A)((0,n.A)({},m),{},{description:e.target.value}))}),(0,c.jsxs)("select",{value:m.priority,onChange:e=>j((0,n.A)((0,n.A)({},m),{},{priority:e.target.value})),children:[(0,c.jsx)("option",{value:"high",children:"High"}),(0,c.jsx)("option",{value:"medium",children:"Medium"}),(0,c.jsx)("option",{value:"low",children:"Low"})]}),(0,c.jsxs)("label",{children:["Due Date",(0,c.jsx)("input",{type:"date",value:m.dueDate,onChange:e=>j((0,n.A)((0,n.A)({},m),{},{dueDate:e.target.value}))})]}),(0,c.jsxs)("label",{children:["Reminder",(0,c.jsx)("input",{type:"datetime-local",value:m.reminderTime,onChange:e=>j((0,n.A)((0,n.A)({},m),{},{reminderTime:e.target.value}))})]}),(0,c.jsx)("button",{disabled:f,type:"submit",style:{minWidth:110,display:"inline-flex",alignItems:"center",justifyContent:"center",gap:8},children:f?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{children:"Adding"}),(0,c.jsx)("span",{"aria-hidden":!0,children:"\xb7"}),(0,c.jsx)("span",{className:"spinner",style:{width:16,height:16}})]}):"Add Task"}),v&&(0,c.jsx)("div",{className:"error",children:v})]})}),(0,c.jsxs)("div",{className:"toolbar",children:[(0,c.jsx)("input",{placeholder:"Search",onChange:e=>y(e.target.value)}),(0,c.jsxs)("select",{value:h,onChange:e=>p(e.target.value),children:[(0,c.jsx)("option",{value:"",children:"All"}),(0,c.jsx)("option",{value:"High",children:"High"}),(0,c.jsx)("option",{value:"Medium",children:"Medium"}),(0,c.jsx)("option",{value:"Low",children:"Low"})]})]}),o&&(0,c.jsx)("div",{className:"error",children:o}),(0,c.jsxs)("div",{className:"grid-2",children:[(0,c.jsxs)("div",{className:"soft-section accent-blue",children:[(0,c.jsx)("h3",{children:"Pending"}),(0,c.jsx)("ul",{className:"task-list",children:N.map(e=>(0,c.jsxs)("li",{className:"task-card ".concat(e.priority),children:[(0,c.jsxs)("div",{className:"task-main",children:[(0,c.jsxs)("div",{className:"task-title",children:[(0,c.jsx)("strong",{children:e.title}),(0,c.jsx)("span",{className:"pill ".concat(e.priority),children:e.priority}),e.dueDate&&(0,c.jsxs)("span",{className:"muted",children:[" ","due ",e.dueDate.slice(0,10)]})]}),e.description&&(0,c.jsx)("div",{className:"task-desc muted",children:e.description})]}),(0,c.jsxs)("div",{className:"task-actions",children:[(0,c.jsx)("button",{className:"btn-outline ".concat("low"===e.priority?"green":"high"===e.priority?"red":"amber"),onClick:()=>i(e._id,{status:"completed"}),children:"Complete"}),(0,c.jsx)("button",{className:"btn-outline ".concat("low"===e.priority?"green":"high"===e.priority?"red":"amber"),onClick:()=>r(e._id),children:"Delete"})]})]},e._id))})]}),(0,c.jsxs)("div",{className:"soft-section accent-blue",children:[(0,c.jsx)("h3",{children:"Completed"}),(0,c.jsx)("ul",{className:"task-list",children:k.map(e=>(0,c.jsxs)("li",{className:"task-card ".concat(e.priority),children:[(0,c.jsx)("div",{className:"task-main",children:(0,c.jsxs)("div",{className:"task-title",children:[(0,c.jsx)("span",{className:"pill ".concat(e.priority),children:e.priority})," ",(0,c.jsx)("s",{children:e.title})]})}),(0,c.jsx)("div",{className:"task-actions",children:(0,c.jsx)("button",{className:"btn-outline ".concat("low"===e.priority?"green":"high"===e.priority?"red":"amber"),onClick:()=>i(e._id,{status:"pending"}),children:"Undo"})})]},e._id))})]})]})]})}},446:(e,t,i)=>{var n=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,r=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,o="object"==typeof self&&self&&self.Object===Object&&self,d=c||o||Function("return this")(),u=Object.prototype.toString,h=Math.max,p=Math.min,m=function(){return d.Date.now()};function j(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function f(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(j(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=j(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var i=a.test(e);return i||r.test(e)?l(e.slice(2),i?2:8):s.test(e)?NaN:+e}e.exports=function(e,t,i){var n,s,a,r,l,c,o=0,d=!1,u=!1,x=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var i=n,a=s;return n=s=void 0,o=t,r=e.apply(a,i)}function g(e){var i=e-c;return void 0===c||i>=t||i<0||u&&e-o>=a}function y(){var e=m();if(g(e))return b(e);l=setTimeout(y,function(e){var i=t-(e-c);return u?p(i,a-(e-o)):i}(e))}function b(e){return l=void 0,x&&n?v(e):(n=s=void 0,r)}function N(){var e=m(),i=g(e);if(n=arguments,s=this,c=e,i){if(void 0===l)return function(e){return o=e,l=setTimeout(y,t),d?v(e):r}(c);if(u)return l=setTimeout(y,t),v(c)}return void 0===l&&(l=setTimeout(y,t)),r}return t=f(t)||0,j(i)&&(d=!!i.leading,a=(u="maxWait"in i)?h(f(i.maxWait)||0,t):a,x="trailing"in i?!!i.trailing:x),N.cancel=function(){void 0!==l&&clearTimeout(l),o=0,n=c=s=l=void 0},N.flush=function(){return void 0===l?r:b(m())},N}}}]);
//# sourceMappingURL=198.0983efae.chunk.js.map